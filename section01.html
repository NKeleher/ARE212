<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Section 1: Getting started with R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ARE 212</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Section notes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="notes.html">Table of Contents</a>
    </li>
    <li>
      <a href="section00.html">Section 0</a>
    </li>
    <li>
      <a href="section01.html">Section 1</a>
    </li>
    <li>
      <a href="section02.html">Section 2</a>
    </li>
    <li>
      <a href="section03.html">Section 3</a>
    </li>
    <li>
      <a href="section04.html">Section 4</a>
    </li>
    <li>
      <a href="section05.html">Section 5</a>
    </li>
    <li>
      <a href="section06.html">Section 6</a>
    </li>
    <li>
      <a href="section07.html">Section 7</a>
    </li>
    <li>
      <a href="section08.html">Section 8</a>
    </li>
    <li>
      <a href="section09.html">Section 9</a>
    </li>
    <li>
      <a href="section10.html">Section 10</a>
    </li>
    <li>
      <a href="section11.html">Section 11</a>
    </li>
    <li>
      <a href="latexKnitr.html">LaTeX and knitr</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="Spring2017/notes.html">Spring 2017 Notes</a>
    </li>
  </ul>
</li>
<li>
  <a href="courseInfo.html">Course Info</a>
</li>
<li>
  <a href="syllabi.html">Syllabi</a>
</li>
<li>
  <a href="resources.html">R Resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="contact.html">
    <span class="fa fa-envelope-o fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/edrubin/ARE212">
    <span class="fa fa-github-square fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://edrub.in">
    <span class="fa fa-hand-peace-o fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Section 1: Getting started with R</h1>

</div>


<div id="what-you-will-need" class="section level1">
<h1>What you will need</h1>
<ol style="list-style-type: decimal">
<li>Working and up-to-date installations of R and RStudio</li>
<li>Data files “auto.csv” and “auto.dta”. Download a zipped folder <a href="Section01.zip">here</a>.</li>
<li>An internet connection</li>
<li><em>Optional:</em> A healthy source of caffeine</li>
</ol>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<p>In this section we will dive into R. We start by installing and loading three useful packages (<code>dplyr</code>, <code>haven</code>, <code>readr</code>, and <code>pacman</code>). We then load two datasets and begin summarizing and manipulating them. Finally, we’ll make our first plots.</p>
</div>
<div id="packages-in-r" class="section level1">
<h1>Packages in R</h1>
<p>Open RStudio. Make sure you are running the most recent versions of R and RStudio.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>While the base R installation helpful/powerful, R’s true potential comes from combining the core installation with the many, many packages generated through (open-source) collaboration (see <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">CRAN’s list of packages</a><a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>).</p>
<div id="installing-packages" class="section level2">
<h2>Installing packages</h2>
<p>You can check which packages are currently installed by using the function <code>installed.packages()</code>. Ready to run your first function? Type <code>installed.packages()</code> into the R console and hit return. That’s a lot of information. Don’t worry about it for now.</p>
<p>Alternatively (and more easily), you can check the <em>Packages</em> tab inside of RStudio.</p>
<p><img src="Images/rStudioPackages.gif" /> The checked boxes denote the packages that are currently loaded.</p>
<p>Now, let’s install a few packages that will prove useful this semester. We will use the creatively named <code>install.packages()</code> function. You just need to give the function that name(s) of the package(s) you want to install.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install the package named &quot;dplyr&quot;</span>
<span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)
<span class="co"># Install the packages named &quot;haven&quot; and &quot;readr&quot;</span>
<span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;haven&quot;</span>, <span class="st">&quot;readr&quot;</span>))</code></pre></div>
<p>A few things to notice here:</p>
<ol start="0" style="list-style-type: decimal">
<li>You need an internet connection.</li>
<li>The name of the function <code>install.packages()</code> is plural regardless of the number of packages.</li>
<li>Each package’s name is surrounded by quotes (<em>e.g.</em>, <code>&quot;haven&quot;</code>). These quotation marks are how R knows the difference between characters/strings and objects (objects hold values). R generally does not care whether you use single quote (<code>''</code>) or double quotes (<code>&quot;&quot;</code>), but you should be consistent. If you ask me, I say double quotes.</li>
<li>We can create a vector of packages using the combine function <code>c()</code>. Example: <code>c(1, 2, 3)</code> is a three-element vector whose elements are <code>1</code>, <code>2</code>, and <code>3</code>. Similarly, <code>c(&quot;haven&quot;, &quot;readr&quot;)</code> is a two-element vector whose elements are the <code>&quot;haven&quot;</code> and <code>&quot;readr&quot;</code>. Vectors are a big deal in R.</li>
<li>The hashtag (<code>#</code>) is the symbol that creates comments in R.</li>
</ol>
</div>
<div id="loading-packages" class="section level2">
<h2>Loading packages</h2>
<p>To check that the installations were successful, we will load the packages that we installed above.</p>
<p>R uses the <code>library()</code> function to load a package (we give the name of the package as the argument to the function).<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(haven)</code></pre></div>
<pre><code>## Warning: package &#39;haven&#39; was built under R version 3.4.3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)</code></pre></div>
<p>Notice that we did not need to call the packages with quotations around their names (though it would still work).</p>
</div>
<div id="package-management-with-pacman" class="section level2">
<h2>Package management with <code>pacman</code></h2>
<p>Let’s install another package: the <code>pacman</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install the &#39;pacman&#39; package</span>
<span class="kw">install.packages</span>(<span class="st">&quot;pacman&quot;</span>)</code></pre></div>
<p>Now load it…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the &#39;pacman&#39; package</span>
<span class="kw">library</span>(pacman)</code></pre></div>
<p>In addition to an excellent name, the <code>pacman</code> package is very meta: it’s a package to manage packages. You can use it to install, load, unload, and update your R packages. Plus it really streamlines your code. Rather than having to type <code>library(...)</code> every time you want to load a package, you can use <code>pacman</code>’s handy <code>p_load()</code> function. For instance,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(haven)
<span class="kw">library</span>(readr)</code></pre></div>
<p>becomes</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">p_load</span>(dplyr, haven, readr)</code></pre></div>
<p>Another great feature of <code>p_load()</code>: if you try to load a package that is not installed on your machine, <code>p_load()</code> install the package for you, rather than throwing an error. For instance, let’s install and load one final package named <code>ggplot2</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">p_load</span>(ggplot2)</code></pre></div>
<p>Installed and loaded. <em>That’s</em> service!</p>
</div>
</div>
<div id="loading-data" class="section level1">
<h1>Loading data</h1>
<p>Loading a dataset in R requires three things:</p>
<ol style="list-style-type: decimal">
<li>The <strong>path</strong> of the data file (where the data exist on your computer)</li>
<li>The <strong>name</strong> of the data file</li>
<li>The proper <strong>function</strong> for the type of dataset (<em>e.g.</em>, we use different functions for .csv and .dta files)</li>
</ol>
<div id="file-paths-and-navigation" class="section level2">
<h2>File paths and navigation</h2>
<p>R wants file paths as character vectors (<em>i.e.</em>, the file path surrounded by quotations). For example, <code>&quot;/Users/edwardarubin/Dropbox/Teaching/ARE212&quot;</code> is the path to my folder for this course (on my computer).<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a> <a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a></p>
<p>To change the directory in R, use the <code>setwd()</code>. For instance, to change R’s directory to my course folder</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;/Users/edwardarubin/Dropbox/Teaching/ARE212&quot;</span>)</code></pre></div>
<p>To find R’s current working directory, simply type <code>getwd()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin/Dropbox/Teaching/ARE212&quot;</code></pre>
<p>To navigate your directory, you can combine <code>setwd()</code> with similar commands as you would in Linux, <em>i.e.</em>,</p>
<ol style="list-style-type: decimal">
<li><code>..</code> moves up one level</li>
<li><code>~</code> returns to your home directory</li>
<li>You can use full paths (<code>/Users/edwardarubin/Dropbox/Teaching/ARE212/Section01</code>) or paths that begin in your current location (<code>Section01</code>)</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The current directory</span>
<span class="kw">getwd</span>()</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin/Dropbox/Teaching/ARE212&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Move up one level</span>
<span class="kw">setwd</span>(<span class="st">&quot;..&quot;</span>)
<span class="co"># Check the directory now</span>
<span class="kw">getwd</span>()</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin/Dropbox/Teaching&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Go home</span>
<span class="kw">setwd</span>(<span class="st">&quot;~&quot;</span>)
<span class="co"># Check the new working directory</span>
<span class="kw">getwd</span>()</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Now return to my ARE212 folder</span>
<span class="kw">setwd</span>(<span class="st">&quot;Dropbox/Teaching/ARE212&quot;</span>)
<span class="co"># Check the working directory</span>
<span class="kw">getwd</span>()</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin/Dropbox/Teaching/ARE212&quot;</code></pre>
<p>There are a few ways to deal with file paths and directories. One common way is to use <code>setwd()</code> at the top of your script (or invoke the function whenever you need to change directories).</p>
<p>I find clearer to store the paths that I will use—at the start of my R script, I define the paths relevant to the files I use within the script. I prefer this method because it allows me to quickly update paths and easily access subfolders.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The path to my ARE 212 folder (ARE212)</span>
dir_class &lt;-<span class="st"> &quot;/Users/edwardarubin/Dropbox/Teaching/ARE212/&quot;</span>
<span class="co"># The path to my section 1 folder (Section01), which is inside my ARE 212 folder</span>
dir_section1 &lt;-<span class="st"> </span><span class="kw">paste0</span>(dir_class, <span class="st">&quot;Section01/&quot;</span>)</code></pre></div>
<p>Notice the use of the <code>paste0()</code> function here: we paste together the value of the <em>object</em> <code>dir_class</code> and the string <code>&quot;Section01&quot;</code>. The function <code>paste0()</code>, by default, pastes without any spaces in between the objects. The function <code>paste()</code> defaults to including a single space (you can feed the functions additional parameters to change these behaviors).</p>
<p>As a quick example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Default use of paste0()</span>
<span class="kw">paste0</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] &quot;123&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Default use of paste()</span>
<span class="kw">paste</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] &quot;1 2 3&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Setting the separation parameter to &quot; &quot; (the default)</span>
<span class="kw">paste</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;1 2 3&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Changing the separation parameter to &quot;+&quot;</span>
<span class="kw">paste</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot;+&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;1+2+3&quot;</code></pre>
<p>What do I mean by <em>object</em>? R holds the characters <code>&quot;/Users/edwardarubin/Dropbox/Teaching/ARE212/&quot;</code> in its memory and assigns to them (the object) the name <code>dir_class</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The object &#39;dir_class&#39;</span>
dir_class</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin/Dropbox/Teaching/ARE212/&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The character vector</span>
<span class="st">&quot;Section01/&quot;</span></code></pre></div>
<pre><code>## [1] &quot;Section01/&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Paste them together</span>
<span class="kw">paste0</span>(dir_class, <span class="st">&quot;Section01/&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin/Dropbox/Teaching/ARE212/Section01/&quot;</code></pre>
<p>Finally, notice that RStudio assists you with completing file paths (begin typing and press tab). This completion can be super useful.</p>
<p>Example:<br />
<img src="Images/rStudioTabDirectory.gif" /></p>
<p>Nice, right?</p>
</div>
<div id="dir" class="section level2">
<h2><code>dir()</code></h2>
<p>The function <code>dir()</code> allows you to see contents of a folder. <code>dir()</code> can help when you forget the name of the file you want. To see the contents of a folder, give the folder’s file path to <code>dir()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Look inside my ARE212 folder (dir_class stores the path)</span>
<span class="kw">dir</span>(dir_class)</code></pre></div>
<pre><code>##  [1] &quot;_site.yml&quot;             &quot;analyticstracking.php&quot;
##  [3] &quot;contact.html&quot;          &quot;contact.Rmd&quot;          
##  [5] &quot;courseInfo.html&quot;       &quot;courseInfo.Rmd&quot;       
##  [7] &quot;footer.html&quot;           &quot;futureNotes.html&quot;     
##  [9] &quot;futureNotes.Rmd&quot;       &quot;htmlScript.R&quot;         
## [11] &quot;Images&quot;                &quot;index.html&quot;           
## [13] &quot;index.Rmd&quot;             &quot;LatexKnitr&quot;           
## [15] &quot;latexKnitr_files&quot;      &quot;latexKnitr.html&quot;      
## [17] &quot;latexKnitr.Rmd&quot;        &quot;notes.html&quot;           
## [19] &quot;notes.Rmd&quot;             &quot;Papers&quot;               
## [21] &quot;pdfScript.R&quot;           &quot;pdfScript.spin.R&quot;     
## [23] &quot;pdfScript.spin.Rmd&quot;    &quot;README.html&quot;          
## [25] &quot;README.md&quot;             &quot;resources.html&quot;       
## [27] &quot;resources.Rmd&quot;         &quot;Section00&quot;            
## [29] &quot;section00.html&quot;        &quot;section00.Rmd&quot;        
## [31] &quot;Section01&quot;             &quot;section01_files&quot;      
## [33] &quot;section01.html&quot;        &quot;section01.Rmd&quot;        
## [35] &quot;Section01.zip&quot;         &quot;Section02&quot;            
## [37] &quot;section02.html&quot;        &quot;section02.Rmd&quot;        
## [39] &quot;Section02.zip&quot;         &quot;Section03&quot;            
## [41] &quot;section03_cache&quot;       &quot;section03_files&quot;      
## [43] &quot;section03.html&quot;        &quot;section03.Rmd&quot;        
## [45] &quot;Section03.zip&quot;         &quot;Section04&quot;            
## [47] &quot;section04_cache&quot;       &quot;section04_files&quot;      
## [49] &quot;section04.html&quot;        &quot;section04.Rmd&quot;        
## [51] &quot;Section04.zip&quot;         &quot;Section05&quot;            
## [53] &quot;section05_cache&quot;       &quot;section05_files&quot;      
## [55] &quot;section05.html&quot;        &quot;section05.Rmd&quot;        
## [57] &quot;Section05.zip&quot;         &quot;Section06&quot;            
## [59] &quot;section06_cache&quot;       &quot;section06_files&quot;      
## [61] &quot;section06.html&quot;        &quot;section06.Rmd&quot;        
## [63] &quot;Section06.zip&quot;         &quot;Section07&quot;            
## [65] &quot;section07_cache&quot;       &quot;section07_files&quot;      
## [67] &quot;section07.html&quot;        &quot;section07.Rmd&quot;        
## [69] &quot;Section07.zip&quot;         &quot;Section08&quot;            
## [71] &quot;section08_cache&quot;       &quot;section08_files&quot;      
## [73] &quot;section08.html&quot;        &quot;section08.Rmd&quot;        
## [75] &quot;Section08.zip&quot;         &quot;Section09&quot;            
## [77] &quot;section09_files&quot;       &quot;section09.html&quot;       
## [79] &quot;section09.Rmd&quot;         &quot;Section09.zip&quot;        
## [81] &quot;Section10&quot;             &quot;section10_files&quot;      
## [83] &quot;section10.html&quot;        &quot;section10.Rmd&quot;        
## [85] &quot;Section10.zip&quot;         &quot;Section11&quot;            
## [87] &quot;section11_cache&quot;       &quot;section11_files&quot;      
## [89] &quot;section11.html&quot;        &quot;section11.Rmd&quot;        
## [91] &quot;site_libs&quot;             &quot;Spring2017&quot;           
## [93] &quot;syllabi.html&quot;          &quot;syllabi.Rmd&quot;          
## [95] &quot;syllabus2017.pdf&quot;      &quot;syllabus2018.pdf&quot;     
## [97] &quot;TODO.html&quot;             &quot;TODO.md&quot;              
## [99] &quot;update.bash&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Look inside my section 1 folder (dir_section1 stores the path)</span>
<span class="kw">dir</span>(dir_section1)</code></pre></div>
<pre><code>## [1] &quot;auto.csv&quot;      &quot;auto.dta&quot;      &quot;README.md&quot;     &quot;section01.pdf&quot;
## [5] &quot;section01.R&quot;</code></pre>
<p>You can see there are a few files of interest in the section 1 folder—specifically, auto.csv and auto.dta.<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a></p>
<p>Recall that <code>dir_section1</code> is an object that holds a value representing a file path, <em>i.e.</em>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dir_section1</code></pre></div>
<pre><code>## [1] &quot;/Users/edwardarubin/Dropbox/Teaching/ARE212/Section01/&quot;</code></pre>
<p>Notice that we get the same result if we feed <code>dir()</code> object’s name or its value, since R is evaluating the object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The object</span>
<span class="kw">dir</span>(dir_section1)</code></pre></div>
<pre><code>## [1] &quot;auto.csv&quot;      &quot;auto.dta&quot;      &quot;README.md&quot;     &quot;section01.pdf&quot;
## [5] &quot;section01.R&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The object&#39;s value</span>
<span class="kw">dir</span>(<span class="st">&quot;/Users/edwardarubin/Dropbox/Teaching/ARE212/Section01/&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;auto.csv&quot;      &quot;auto.dta&quot;      &quot;README.md&quot;     &quot;section01.pdf&quot;
## [5] &quot;section01.R&quot;</code></pre>
</div>
<div id="functions-to-load-files" class="section level2">
<h2>Functions to load files</h2>
<p>There are a lot of ways to load (data) files in R. In this class, we will mostly stick to the packages <code>readr</code> and <code>haven</code>—in addition to R’s base functions. The <code>readr</code> package offers functions for mostly for reading delimited data files like CSVs, TSVs, and fixed-width files. The <code>haven</code> package offers functions for reading data files outputted from other statistical software like Stata, SPSS (or PSPP), and SAS. R also has its own file types (<em>i.e.</em>, .rds and .rdata). Eventually, we will also talk about loading spatial data (<em>e.g.</em>, shapefiles and various rasters).</p>
<p>Let’s start by reading the data stored in the auto.dta file. For this task, we’ll use the <code>read_dta()</code> funtion from the <code>haven</code> package. The <code>read_dta()</code> function needs only one argument: the file (including the path necessary to reach the file).</p>
<p><strong>Note:</strong> To learn more about a function and the arguments it accepts, you can</p>
<ol style="list-style-type: decimal">
<li>Press tab (in RStudio) after typing the function’s name.</li>
<li>Type a question mark and the function’s name into the console, <em>e.g.</em>, <code>?read_dta</code> (and then hit return).</li>
</ol>
<p>Example:<br />
<img src="Images/rStudioTabFunction.gif" /></p>
<p>Enough talk. Let’s finally load the file.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the .dta file</span>
car_data &lt;-<span class="st"> </span><span class="kw">read_dta</span>(<span class="kw">paste0</span>(dir_section1, <span class="st">&quot;auto.dta&quot;</span>))</code></pre></div>
<p>The <code>&lt;-</code> operator is central to everything you do in R. It assigns the value(s) on the right-hand side of the arrow to the name on the left-hand side. When reading R code aloud, people often replace the arrow with “gets”. The main thing to understand is that the contents of “auto.dta” are now assigned to the name <code>car_data</code>. To see this, simply type the name into the console (a bad idea with really big datasets, but this dataset is not big).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">car_data</code></pre></div>
<pre><code>## # A tibble: 74 x 12
##             make price   mpg rep78 headroom trunk weight length  turn
##            &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1   AMC Concord  4099    22     3      2.5    11   2930    186    40
##  2     AMC Pacer  4749    17     3      3.0    11   3350    173    40
##  3    AMC Spirit  3799    22    NA      3.0    12   2640    168    35
##  4 Buick Century  4816    20     3      4.5    16   3250    196    40
##  5 Buick Electra  7827    15     4      4.0    20   4080    222    43
##  6 Buick LeSabre  5788    18     3      4.0    21   3670    218    43
##  7    Buick Opel  4453    26    NA      3.0    10   2230    170    34
##  8   Buick Regal  5189    20     3      2.0    16   3280    200    42
##  9 Buick Riviera 10372    16     3      3.5    17   3880    207    43
## 10 Buick Skylark  4082    19     3      3.5    13   3400    200    42
## # ... with 64 more rows, and 3 more variables: displacement &lt;dbl&gt;,
## #   gear_ratio &lt;dbl&gt;, foreign &lt;dbl+lbl&gt;</code></pre>
<p>If we instead had a CSV file—which we do—we could use the function <code>read_csv()</code> from the package <code>readr</code> to load the file.<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the .csv file</span>
car_data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">paste0</span>(dir_section1, <span class="st">&quot;auto.csv&quot;</span>))</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   make = col_character(),
##   price = col_double(),
##   mpg = col_double(),
##   rep78 = col_double(),
##   headroom = col_double(),
##   trunk = col_double(),
##   weight = col_double(),
##   length = col_double(),
##   turn = col_double(),
##   displacement = col_double(),
##   gear_ratio = col_double(),
##   foreign = col_integer()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># See that it looks the same as above</span>
car_data</code></pre></div>
<pre><code>## # A tibble: 74 x 12
##             make price   mpg rep78 headroom trunk weight length  turn
##            &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1   AMC Concord  4099    22     3      2.5    11   2930    186    40
##  2     AMC Pacer  4749    17     3      3.0    11   3350    173    40
##  3    AMC Spirit  3799    22   NaN      3.0    12   2640    168    35
##  4 Buick Century  4816    20     3      4.5    16   3250    196    40
##  5 Buick Electra  7827    15     4      4.0    20   4080    222    43
##  6 Buick LeSabre  5788    18     3      4.0    21   3670    218    43
##  7    Buick Opel  4453    26   NaN      3.0    10   2230    170    34
##  8   Buick Regal  5189    20     3      2.0    16   3280    200    42
##  9 Buick Riviera 10372    16     3      3.5    17   3880    207    43
## 10 Buick Skylark  4082    19     3      3.5    13   3400    200    42
## # ... with 64 more rows, and 3 more variables: displacement &lt;dbl&gt;,
## #   gear_ratio &lt;dbl&gt;, foreign &lt;int&gt;</code></pre>
<p>Note that you do not have to paste the directory onto the file name if you are already in the file’s directory (R reasonably defaults to looking in the current directory). In my case, I just need to tell R to go to the Section01 folder, where my auto.csv file lives.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read_csv</span>(<span class="st">&quot;Section01/auto.csv&quot;</span>)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   make = col_character(),
##   price = col_double(),
##   mpg = col_double(),
##   rep78 = col_double(),
##   headroom = col_double(),
##   trunk = col_double(),
##   weight = col_double(),
##   length = col_double(),
##   turn = col_double(),
##   displacement = col_double(),
##   gear_ratio = col_double(),
##   foreign = col_integer()
## )</code></pre>
<pre><code>## # A tibble: 74 x 12
##             make price   mpg rep78 headroom trunk weight length  turn
##            &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1   AMC Concord  4099    22     3      2.5    11   2930    186    40
##  2     AMC Pacer  4749    17     3      3.0    11   3350    173    40
##  3    AMC Spirit  3799    22   NaN      3.0    12   2640    168    35
##  4 Buick Century  4816    20     3      4.5    16   3250    196    40
##  5 Buick Electra  7827    15     4      4.0    20   4080    222    43
##  6 Buick LeSabre  5788    18     3      4.0    21   3670    218    43
##  7    Buick Opel  4453    26   NaN      3.0    10   2230    170    34
##  8   Buick Regal  5189    20     3      2.0    16   3280    200    42
##  9 Buick Riviera 10372    16     3      3.5    17   3880    207    43
## 10 Buick Skylark  4082    19     3      3.5    13   3400    200    42
## # ... with 64 more rows, and 3 more variables: displacement &lt;dbl&gt;,
## #   gear_ratio &lt;dbl&gt;, foreign &lt;int&gt;</code></pre>
</div>
</div>
<div id="playing-with-data" class="section level1">
<h1>Playing with data</h1>
<p>You now know how to navigate your computer and load data. You might want to do something with those data.</p>
<div id="exploring-the-data" class="section level2">
<h2>Exploring the data</h2>
<p>Let’s print the data into the console again.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">car_data</code></pre></div>
<pre><code>## # A tibble: 74 x 12
##             make price   mpg rep78 headroom trunk weight length  turn
##            &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1   AMC Concord  4099    22     3      2.5    11   2930    186    40
##  2     AMC Pacer  4749    17     3      3.0    11   3350    173    40
##  3    AMC Spirit  3799    22   NaN      3.0    12   2640    168    35
##  4 Buick Century  4816    20     3      4.5    16   3250    196    40
##  5 Buick Electra  7827    15     4      4.0    20   4080    222    43
##  6 Buick LeSabre  5788    18     3      4.0    21   3670    218    43
##  7    Buick Opel  4453    26   NaN      3.0    10   2230    170    34
##  8   Buick Regal  5189    20     3      2.0    16   3280    200    42
##  9 Buick Riviera 10372    16     3      3.5    17   3880    207    43
## 10 Buick Skylark  4082    19     3      3.5    13   3400    200    42
## # ... with 64 more rows, and 3 more variables: displacement &lt;dbl&gt;,
## #   gear_ratio &lt;dbl&gt;, foreign &lt;int&gt;</code></pre>
<p>Not bad. We can see a few interesting things in this view of the dataset.</p>
<ol style="list-style-type: decimal">
<li>The dataset’s is of the class <code>tibble</code> (it’s like a table but with a few rules—see <code>?tibble::tibble</code>).</li>
<li>The dataset’s dimensions are 74 by 12, meaning we have 74 rows and 12 columns.</li>
<li>We can also see the class of each of the columns: the make column is of “character” class, and the rest of the columns are of class “double”, with the exception of the foreign variable, which is of class “integer”.</li>
<li>We get a snapshot of the dataset.</li>
</ol>
<p>What if we just want the names of the dataset? Use the <code>names()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(car_data)</code></pre></div>
<pre><code>##  [1] &quot;make&quot;         &quot;price&quot;        &quot;mpg&quot;          &quot;rep78&quot;       
##  [5] &quot;headroom&quot;     &quot;trunk&quot;        &quot;weight&quot;       &quot;length&quot;      
##  [9] &quot;turn&quot;         &quot;displacement&quot; &quot;gear_ratio&quot;   &quot;foreign&quot;</code></pre>
<p>And what if we want to see the first six rows of the dataset? Use the <code>head()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(car_data)</code></pre></div>
<pre><code>## # A tibble: 6 x 12
##            make price   mpg rep78 headroom trunk weight length  turn
##           &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1   AMC Concord  4099    22     3      2.5    11   2930    186    40
## 2     AMC Pacer  4749    17     3      3.0    11   3350    173    40
## 3    AMC Spirit  3799    22   NaN      3.0    12   2640    168    35
## 4 Buick Century  4816    20     3      4.5    16   3250    196    40
## 5 Buick Electra  7827    15     4      4.0    20   4080    222    43
## 6 Buick LeSabre  5788    18     3      4.0    21   3670    218    43
## # ... with 3 more variables: displacement &lt;dbl&gt;, gear_ratio &lt;dbl&gt;,
## #   foreign &lt;int&gt;</code></pre>
<p>What if we want to see the first 11 rows of the dataset? Use the <code>head()</code> function with its <code>n</code> argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(car_data, <span class="dt">n =</span> <span class="dv">11</span>)</code></pre></div>
<pre><code>## # A tibble: 11 x 12
##             make price   mpg rep78 headroom trunk weight length  turn
##            &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1   AMC Concord  4099    22     3      2.5    11   2930    186    40
##  2     AMC Pacer  4749    17     3      3.0    11   3350    173    40
##  3    AMC Spirit  3799    22   NaN      3.0    12   2640    168    35
##  4 Buick Century  4816    20     3      4.5    16   3250    196    40
##  5 Buick Electra  7827    15     4      4.0    20   4080    222    43
##  6 Buick LeSabre  5788    18     3      4.0    21   3670    218    43
##  7    Buick Opel  4453    26   NaN      3.0    10   2230    170    34
##  8   Buick Regal  5189    20     3      2.0    16   3280    200    42
##  9 Buick Riviera 10372    16     3      3.5    17   3880    207    43
## 10 Buick Skylark  4082    19     3      3.5    13   3400    200    42
## 11  Cad. Deville 11385    14     3      4.0    20   4330    221    44
## # ... with 3 more variables: displacement &lt;dbl&gt;, gear_ratio &lt;dbl&gt;,
## #   foreign &lt;int&gt;</code></pre>
<p>And for the last 7 rows of the dataset? Use the <code>tail()</code> function with its <code>n</code> argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(car_data, <span class="dt">n =</span> <span class="dv">7</span>)</code></pre></div>
<pre><code>## # A tibble: 7 x 12
##             make price   mpg rep78 headroom trunk weight length  turn
##            &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1 Toyota Corolla  3748    31     5      3.0     9   2200    165    35
## 2  Toyota Corona  5719    18     5      2.0    11   2670    175    36
## 3      VW Dasher  7140    23     4      2.5    12   2160    172    36
## 4      VW Diesel  5397    41     5      3.0    15   2040    155    35
## 5      VW Rabbit  4697    25     4      3.0    15   1930    155    35
## 6    VW Scirocco  6850    25     4      2.0    16   1990    156    36
## 7      Volvo 260 11995    17     5      2.5    14   3170    193    37
## # ... with 3 more variables: displacement &lt;dbl&gt;, gear_ratio &lt;dbl&gt;,
## #   foreign &lt;int&gt;</code></pre>
<p>RStudio also has a nice—though sometimes slow—data viewer. You can access the data viewer through the RStudi GUI or through the <code>View()</code> function, <em>e.g.</em>, <code>View(car_data)</code>.</p>
</div>
<div id="summarizing-the-data" class="section level2">
<h2>Summarizing the data</h2>
<p>To make a quick summary of your dataset, you can use the <code>summary()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(car_data)</code></pre></div>
<pre><code>##      make               price            mpg            rep78      
##  Length:74          Min.   : 3291   Min.   :12.00   Min.   :1.000  
##  Class :character   1st Qu.: 4220   1st Qu.:18.00   1st Qu.:3.000  
##  Mode  :character   Median : 5006   Median :20.00   Median :3.000  
##                     Mean   : 6165   Mean   :21.30   Mean   :3.406  
##                     3rd Qu.: 6332   3rd Qu.:24.75   3rd Qu.:4.000  
##                     Max.   :15906   Max.   :41.00   Max.   :5.000  
##                                                     NA&#39;s   :5      
##     headroom         trunk           weight         length     
##  Min.   :1.500   Min.   : 5.00   Min.   :1760   Min.   :142.0  
##  1st Qu.:2.500   1st Qu.:10.25   1st Qu.:2250   1st Qu.:170.0  
##  Median :3.000   Median :14.00   Median :3190   Median :192.5  
##  Mean   :2.993   Mean   :13.76   Mean   :3019   Mean   :187.9  
##  3rd Qu.:3.500   3rd Qu.:16.75   3rd Qu.:3600   3rd Qu.:203.8  
##  Max.   :5.000   Max.   :23.00   Max.   :4840   Max.   :233.0  
##                                                                
##       turn        displacement     gear_ratio       foreign      
##  Min.   :31.00   Min.   : 79.0   Min.   :2.190   Min.   :0.0000  
##  1st Qu.:36.00   1st Qu.:119.0   1st Qu.:2.730   1st Qu.:0.0000  
##  Median :40.00   Median :196.0   Median :2.955   Median :0.0000  
##  Mean   :39.65   Mean   :197.3   Mean   :3.015   Mean   :0.2973  
##  3rd Qu.:43.00   3rd Qu.:245.2   3rd Qu.:3.353   3rd Qu.:1.0000  
##  Max.   :51.00   Max.   :425.0   Max.   :3.890   Max.   :1.0000  
## </code></pre>
<p>However, we often just want to know about one variable. How do you grab a single variable in R? Use the <code>$</code>, of course. Specifically, type the name of the dataset, followed by <code>$</code>, followed by the name of the variable. Again, RStudio’s autocompletion using tab is your best friend here.</p>
<p>To grab the price variable (named <code>price</code>) from the <code>car_data</code> dataset, we type <code>car_data$price</code>. And to summarize the price variable:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(car_data$price)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    3291    4220    5006    6165    6332   15906</code></pre>
</div>
<div id="manipulating-the-data" class="section level2">
<h2>Manipulating the data</h2>
<div id="select" class="section level3">
<h3><code>select()</code></h3>
<p>Now let’s move on to manipulating our dataset. The package <code>dplyr</code> offers a lot of help in manipulating data. <code>dplyr</code> is built on the paradigm of using verbs as actions on the data—for instance, <code>select()</code> variables and then <code>summarize()</code> them.</p>
<p>First, let’s say we only care about a subset of the variables (<em>e.g</em> price, mpg, weight, and length) and don’t feel like hanging on to the others. You could complete this task with R’s built-in <code>subset()</code> function, but let’s instead use the <code>select()</code> function from <code>dplyr</code>. All you need to do is give <code>select()</code> the name of the dataset (<code>car_data</code>) and the names of the variables that we want to keep. <code>dplyr</code> (and some other functions in R) uses what is called non-standard evaluation, which means you do not need to put quotes around the variable names.<a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Select our desired variables; define as car_sub</span>
car_sub &lt;-<span class="st"> </span><span class="kw">select</span>(car_data, price, mpg, weight, length)
<span class="co"># Print the dataset</span>
car_sub</code></pre></div>
<pre><code>## # A tibble: 74 x 4
##    price   mpg weight length
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1  4099    22   2930    186
##  2  4749    17   3350    173
##  3  3799    22   2640    168
##  4  4816    20   3250    196
##  5  7827    15   4080    222
##  6  5788    18   3670    218
##  7  4453    26   2230    170
##  8  5189    20   3280    200
##  9 10372    16   3880    207
## 10  4082    19   3400    200
## # ... with 64 more rows</code></pre>
<p>You can see that we still have 74 rows but only four columns.</p>
<p>Alternatively, you can choose which variables you would like to exclude from a dataset by placing a negative sign (dash) in front of the name</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(car_data, -price, -mpg, -weight, -length)</code></pre></div>
<pre><code>## # A tibble: 74 x 8
##             make rep78 headroom trunk  turn displacement gear_ratio
##            &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1   AMC Concord     3      2.5    11    40          121       3.58
##  2     AMC Pacer     3      3.0    11    40          258       2.53
##  3    AMC Spirit   NaN      3.0    12    35          121       3.08
##  4 Buick Century     3      4.5    16    40          196       2.93
##  5 Buick Electra     4      4.0    20    43          350       2.41
##  6 Buick LeSabre     3      4.0    21    43          231       2.73
##  7    Buick Opel   NaN      3.0    10    34          304       2.87
##  8   Buick Regal     3      2.0    16    42          196       2.93
##  9 Buick Riviera     3      3.5    17    43          231       2.93
## 10 Buick Skylark     3      3.5    13    42          231       3.08
## # ... with 64 more rows, and 1 more variables: foreign &lt;int&gt;</code></pre>
</div>
<div id="arrange" class="section level3">
<h3><code>arrange()</code></h3>
<p>We often want to arrange our dataset by one or more columns. For this task, <code>dplyr</code> offers the <code>arrange()</code> function. The notation is similar to that of select: the data object’s name followed by the variables with with you would like to arrange the object. Let’s arrange by price and mpg. The second dimension of sorting here is only for demonstration (it’s pointless in the actually arrangement).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">arrange</span>(car_sub, price, mpg)</code></pre></div>
<pre><code>## # A tibble: 74 x 4
##    price   mpg weight length
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1  3291    20   2830    195
##  2  3299    29   2110    163
##  3  3667    24   2750    179
##  4  3748    31   2200    165
##  5  3798    35   2050    164
##  6  3799    22   2640    168
##  7  3829    22   2580    169
##  8  3895    26   1830    142
##  9  3955    19   3430    197
## 10  3984    30   2120    163
## # ... with 64 more rows</code></pre>
<p>Having used the <code>arrange()</code> function on our data, what happens if we view the dataset now?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">car_sub</code></pre></div>
<pre><code>## # A tibble: 74 x 4
##    price   mpg weight length
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1  4099    22   2930    186
##  2  4749    17   3350    173
##  3  3799    22   2640    168
##  4  4816    20   3250    196
##  5  7827    15   4080    222
##  6  5788    18   3670    218
##  7  4453    26   2230    170
##  8  5189    20   3280    200
##  9 10372    16   3880    207
## 10  4082    19   3400    200
## # ... with 64 more rows</code></pre>
<p>It is no longer arranged. This point is important. With nearly every function in R, you must assign the output of a function to an object if you want anything to change. Otherwise, you are simply printing your results to the console.</p>
<p><code>arrange()</code> defaults to ascending ordering; if you would like descending ordering, use the <code>desc()</code> function on the variables that you would like to be descending.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">arrange</span>(car_sub, <span class="kw">desc</span>(price), mpg)</code></pre></div>
<pre><code>## # A tibble: 74 x 4
##    price   mpg weight length
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 15906    21   4290    204
##  2 14500    14   3900    204
##  3 13594    12   4720    230
##  4 13466    14   3830    201
##  5 12990    14   3420    192
##  6 11995    17   3170    193
##  7 11497    12   4840    233
##  8 11385    14   4330    221
##  9 10372    16   3880    207
## 10 10371    16   4030    206
## # ... with 64 more rows</code></pre>
</div>
<div id="summarize" class="section level3">
<h3><code>summarize()</code></h3>
<p>To create more specific summaries of your data, <code>dplyr</code> offers the <code>summarize()</code> and <code>summarize_each()</code> functions.<a href="#fn9" class="footnoteRef" id="fnref9"><sup>9</sup></a> These functions are really more useful when you have grouped data, but it may be helpful to first see them here in a simpler setting. For broad summaries, check out the function <code>summarize_all()</code>.</p>
<p>Imaging we want the mean and standard deviation of the price variable, we use the functions <code>mean()</code> and <code>sd()</code> in conjunction with <code>summarize()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summarize</span>(car_sub, <span class="kw">mean</span>(price), <span class="kw">sd</span>(price))</code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   `mean(price)` `sd(price)`
##           &lt;dbl&gt;       &lt;dbl&gt;
## 1      6165.257    2949.496</code></pre>
<p>You can even provide names for the newly created summaries.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summarize</span>(car_sub, <span class="dt">price_mean =</span> <span class="kw">mean</span>(price), <span class="dt">price_sd =</span> <span class="kw">sd</span>(price))</code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   price_mean price_sd
##        &lt;dbl&gt;    &lt;dbl&gt;
## 1   6165.257 2949.496</code></pre>
<p>Because these summaries were relatively simple, we could have just typed them out…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(car_sub$price)</code></pre></div>
<pre><code>## [1] 6165.257</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(car_sub$price)</code></pre></div>
<pre><code>## [1] 2949.496</code></pre>
</div>
</div>
<div id="plotting-the-data" class="section level2">
<h2>Plotting the data</h2>
<p>A final way we often play with data is by making plots. R’s default plot functions are quite simple but leave a bit to be desired with respect to aesthetics. We will cover <code>ggplot()</code> later in the semester, but for now, let’s make a few quick plots.</p>
<p>Let’s create a histogram of the cars’ milages. R’s <code>hist()</code> function works perfectly here. It only needs the variable of interest, but we can provide more parameters to make it pretty.</p>
<p>First, the plan-vanilla plot</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(car_sub$mpg)</code></pre></div>
<p><img src="section01_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Now, a bit prettier. And let’s add a blue line for the median MPG (using the <code>abline()</code> function).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The histogram function</span>
<span class="kw">hist</span>(
  <span class="co"># The variable for the histogram</span>
  <span class="dt">x =</span> car_sub$mpg,
  <span class="co"># The main title</span>
  <span class="dt">main =</span> <span class="st">&quot;Distribution of fuel economy&quot;</span>,
  <span class="co"># The x-axis label</span>
  <span class="dt">xlab =</span> <span class="st">&quot;MPG (miles per gallon)&quot;</span>)
<span class="co"># The blue vertical line at the median MPG (lwd is line width)</span>
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="kw">median</span>(car_sub$mpg), <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">lwd =</span> <span class="dv">3</span>)</code></pre></div>
<p><img src="section01_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>Let’s plot price and mileage. A scatterplot will work here, and R’s base <code>plot()</code> function will do just fine with a scatter plot. We will give it an x variable, a y variable, and the axis titles.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(
  <span class="dt">x =</span> car_sub$mpg,
  <span class="dt">y =</span> car_sub$price,
  <span class="dt">xlab =</span> <span class="st">&quot;Fuel economy (MPG)&quot;</span>,
  <span class="dt">ylab =</span> <span class="st">&quot;Price&quot;</span>)</code></pre></div>
<p><img src="section01_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Note: I really like clearly defining the arguments of functions. And I recommend it. I find it helps keep things straight, as order matters when you are not naming each argument.</p>
</div>
</div>
<div id="indexing" class="section level1">
<h1>Indexing</h1>
<p>Nearly everything in R is numerically indexed. For instance, when we create a vector of numbers, as we did earlier, each element of the vector gets a numerical index (1, 2, 3, …). You can generally access the individual elements of objects using these indexes and square brackets behind the name of the object (<em>e.g.</em>, <code>test[2]</code> grabs that second element of the object <code>test</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a vector</span>
x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)
<span class="co"># Grab the second element of x</span>
x[<span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Grab the second and third elements of x</span>
x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]</code></pre></div>
<pre><code>## [1] 5 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Grab the second and third elements of x</span>
x[<span class="dv">2</span>:<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] 5 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># See what 2:3 does</span>
<span class="dv">2</span>:<span class="dv">3</span></code></pre></div>
<pre><code>## [1] 2 3</code></pre>
<p>This indexing works with data objects, as well. We just have one more dimension to consider—we have rows and columns. Rows before columns, <em>i.e.</em>, <code>[row, column]</code> (but we don’t actually use the words).</p>
<p>To grab the first row of <code>car_sub</code>, we put a 1 for the row index and leave the column blank.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">car_sub[<span class="dv">1</span>, ]</code></pre></div>
<pre><code>## # A tibble: 1 x 4
##   price   mpg weight length
##   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1  4099    22   2930    186</code></pre>
<p>To grab the first column of <code>car_sub</code>, we</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">car_sub[, <span class="dv">1</span>]</code></pre></div>
<pre><code>## # A tibble: 74 x 1
##    price
##    &lt;dbl&gt;
##  1  4099
##  2  4749
##  3  3799
##  4  4816
##  5  7827
##  6  5788
##  7  4453
##  8  5189
##  9 10372
## 10  4082
## # ... with 64 more rows</code></pre>
<p>You can also use the name of a column as its index</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">car_sub[, <span class="st">&quot;price&quot;</span>]</code></pre></div>
<pre><code>## # A tibble: 74 x 1
##    price
##    &lt;dbl&gt;
##  1  4099
##  2  4749
##  3  3799
##  4  4816
##  5  7827
##  6  5788
##  7  4453
##  8  5189
##  9 10372
## 10  4082
## # ... with 64 more rows</code></pre>
<p>We’ll do a lot more of this indexing stuff in the future.</p>
</div>
<div id="fun-challenge" class="section level1">
<h1>Fun challenge</h1>
<p>What happens if you give the <code>head()</code> or <code>tail()</code> functions an <code>n</code> that is negative? Can you replicate the behavior using indexing? Can you replicate the behavior of <code>tail()</code> using only the function <code>head()</code>?</p>
</div>
<div id="linear-algebra-puzzles" class="section level1">
<h1>Linear algebra puzzles</h1>
<p>Some <em>classic</em><a href="#fn10" class="footnoteRef" id="fnref10"><sup>10</sup></a> R-meets-linear algebra puzzles for your enjoyment. They may use some R concepts that we have not yet covered.</p>
<ol style="list-style-type: decimal">
<li>Let <strong>I</strong><sub>5</sub> be a 5 <span class="math inline">\(\times\)</span> 5 identity matrix. Demonstrate that <strong>I</strong><sub>5</sub> is symmetric and idempotent using simple functions in R.</li>
<li>Generate a 2 <span class="math inline">\(\times\)</span> 2 idempotent matrix <strong>X</strong>, where <strong>X</strong> is not the identity matrix. Demonstrate that <strong>X</strong> = <strong>XX</strong>.</li>
<li>Generate two random variables, <strong>x</strong> and <strong>e</strong>, of dimension n = 100 such that <strong>x</strong>, <strong>e</strong> ∼ N(0, 1). Generate a random variable <strong>y</strong> according to the data generating process <span class="math inline">\(y_i = x_i + e_i\)</span>. Show that if you regress <strong>y</strong> on <strong>x</strong> using the canned linear regression routine <code>lm()</code>, then you will get an estimate of the intercept <span class="math inline">\(\beta_0\)</span> and the coefficient on <strong>x</strong>, <span class="math inline">\(\beta_1\)</span>, such that <span class="math inline">\(\beta_0 = 0\)</span> and <span class="math inline">\(\beta_1 = 1\)</span>.</li>
<li>Show that if <span class="math inline">\(\lambda_1, \lambda_2, \ldots, \lambda_5\)</span> are the eigenvectors of a 5 <span class="math inline">\(\times\)</span> 5 matrix <strong>A</strong>, then tr(<strong>A</strong>) = <span class="math inline">\(\sum_{i=1}^5 \lambda_i\)</span>.</li>
</ol>
<p><br><br><br></p>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>If you do not have the most recent versions of R (3.4.3, a.k.a. <em>Kite-Eating Tree</em>) and RStudio (1.1.383), then please check out the directions in <a href="section00.html">Section 0</a>.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>CRAN stands for [the] Comprehensive R Archive Network<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>You can also access functions within a package without loading the whole package. Let’s say we want to load the <code>happy()</code> function from the <code>fake</code> package without loading the whole <code>fake</code> package. Just type <code>fake::happy()</code>. The double colon <code>::</code> is the key here. (<em>Note:</em> Not all functions from a package can be accessed this way.) This method also works well when packages overlap in the names that they use for functions.<a href="#fnref3">↩</a></p></li>
<li id="fn4"><p>Windows users beware: when you copy the path from File Explorer, the slashes between folders may be in the wrong direction for R: you will need to either change the direction (from <code>\</code> to <code>/</code>) or double them (from <code>/</code> to <code>//</code>).<a href="#fnref4">↩</a></p></li>
<li id="fn5"><p>Note: Mac (OSX) directories tend to start with “/Users/”, while Windows paths start with the name of the drive, for instance, “C:/”. If you’re using Linux, you probably don’t need my help here.<a href="#fnref5">↩</a></p></li>
<li id="fn6"><p>The files are apparently <a href="http://www.stata-press.com/data/r9/u.html">classic Stata tutorial files</a>.<a href="#fnref6">↩</a></p></li>
<li id="fn7"><p>If you have <em>really</em> big delimited files (csv, tsv, fixed, width, <em>etc.</em>), I recommend the <code>fread()</code> (fast read) function from the <code>data.table</code> package. The whole <code>data.table</code> package is awesome and fast—it’s just a bit less beginner friendly than <code>dplyr</code>.<a href="#fnref7">↩</a></p></li>
<li id="fn8"><p>If leaving off the quotation marks makes you uncomfortable—or is actually inhibiting your programming—each <code>dplyr</code> function has a clone that uses standard evaluation. These standard evaluation clones have the same names as their counterparts but with an added underscore (<code>_</code>) at their ends (<em>e.g.</em>, <code>select_()</code>).<a href="#fnref8">↩</a></p></li>
<li id="fn9"><p>If you are more comfortable with British English, you will be happy to know you can use the functions <code>summarise()</code> and <code>summarise_each()</code>.<a href="#fnref9">↩</a></p></li>
<li id="fn10"><p>By classic, I mean they’ve shown up in this class’s section notes for several years.<a href="#fnref10">↩</a></p></li>
</ol>
</div>

<!-- <?php include_once("analyticstracking.php") ?> -->

<!-- For Google Analytics: -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-88887510-2', 'auto');
  ga('send', 'pageview');

</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
